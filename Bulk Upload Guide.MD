# ğŸ“¦ Bulk Upload Feature - Complete Guide

## âœ… What's New

The auditor now supports **bulk upload** - process multiple agents from a single upload!

---

## ğŸ¯ How It Works

### Your Workflow (Nested ZIPs):
```
1. Create a folder with all agent ZIPs:
   ğŸ“ All_Agents/
   â”œâ”€â”€ ğŸ“¦ Athira_chats.zip
   â”œâ”€â”€ ğŸ“¦ Timothy_chats.zip
   â”œâ”€â”€ ğŸ“¦ Ian_chats.zip
   â””â”€â”€ ğŸ“¦ Mavis_chats.zip

2. Zip the entire folder:
   ğŸ“¦ All_Agents.zip (contains the 4 ZIPs above)

3. Upload All_Agents.zip to the auditor

4. System processes all agents automatically!
```

### Alternative: Single ZIP with All Chats
```
ğŸ“¦ all_chats.zip
â”œâ”€â”€ chat_001.json (Athira)
â”œâ”€â”€ chat_002.json (Timothy)
â”œâ”€â”€ chat_003.json (Athira)
â”œâ”€â”€ chat_004.json (Ian)
â””â”€â”€ ... (all JSON files)
```

---

## ğŸš€ Step-by-Step Usage

### **Method 1: Auto-Detect Agents** (Recommended)

**Step 1: Enable Bulk Mode**
```
â˜ ğŸ“¦ Enable Bulk Upload Mode  â† Check this box
```

**Step 2: Choose Auto-Detect**
```
Choose input method:
â— Auto-Detect from ZIP  â† Select this
```

**Step 3: Upload Your ZIP**
```
Upload ZIP file: [Browse...]
â†’ Select your All_Agents.zip
```

**Step 4: Detect Agents**
```
[ğŸ” Detect Agents in ZIP]  â† Click this
```

**Result:**
```
âœ… Found 4 agent(s)!
Detected agents:
- Athira
- Timothy
- Ian
- Mavis
```

**Step 5: Run Bulk Audit**
```
[ğŸš€ Run Bulk Audit]  â† Click this
```

**Step 6: Download All Reports**
```
[ğŸ“¦ Generate All Excel Reports]
[ğŸ“„ Generate All PDF Reports]
```

---

### **Method 2: Manual Entry**

**Step 1: Enable Bulk Mode**
```
â˜ ğŸ“¦ Enable Bulk Upload Mode  â† Check this
```

**Step 2: Choose Manual Entry**
```
Choose input method:
â— Manual Entry  â† Select this
```

**Step 3: Enter Agent Names**
```
Enter agent names (one per line):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Athira      â”‚
â”‚ Timothy     â”‚
â”‚ Ian         â”‚
â”‚ Mavis       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Step 4: Add All Agents**
```
[â• Add All Agents]  â† Click this
```

**Step 5: Upload ZIP & Run**
```
Upload ZIP â†’ Run Bulk Audit â†’ Download Reports
```

---

## ğŸ“Š What You Get

### During Processing:
```
ğŸ“Š Processing Results
Processing Athira (1/4)...
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 40%
```

### After Completion:
```
ğŸ“Š Results Summary
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ agent      â”‚ score â”‚ chats â”‚ status       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Athira     â”‚ 8.0   â”‚ 38    â”‚ âœ… Success   â”‚
â”‚ Timothy    â”‚ 6.5   â”‚ 42    â”‚ âœ… Success   â”‚
â”‚ Ian        â”‚ 7.2   â”‚ 35    â”‚ âœ… Success   â”‚
â”‚ Mavis      â”‚ 9.1   â”‚ 45    â”‚ âœ… Success   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“¥ Download All Reports
[ğŸ“¦ Generate All Excel Reports]  [ğŸ“„ Generate All PDF Reports]
```

### Downloads:
```
ğŸ“¦ HostAfrica_Bulk_Reviews_20251224.zip
â”œâ”€â”€ ğŸ“Š Athira_Performance_Review.xlsx
â”œâ”€â”€ ğŸ“Š Timothy_Performance_Review.xlsx
â”œâ”€â”€ ğŸ“Š Ian_Performance_Review.xlsx
â””â”€â”€ ğŸ“Š Mavis_Performance_Review.xlsx

ğŸ“¦ HostAfrica_Bulk_Reviews_PDF_20251224.zip
â”œâ”€â”€ ğŸ“„ Athira_Performance_Review.pdf
â”œâ”€â”€ ğŸ“„ Timothy_Performance_Review.pdf
â”œâ”€â”€ ğŸ“„ Ian_Performance_Review.pdf
â””â”€â”€ ğŸ“„ Mavis_Performance_Review.pdf
```

---

## ğŸ¯ Supported ZIP Structures

### âœ… Structure 1: Nested ZIPs (Your Method)
```
ğŸ“¦ All_Agents.zip
â”œâ”€â”€ ğŸ“¦ agent1.zip
â”‚   â”œâ”€â”€ chat1.json
â”‚   â””â”€â”€ chat2.json
â”œâ”€â”€ ğŸ“¦ agent2.zip
â”‚   â”œâ”€â”€ chat3.json
â”‚   â””â”€â”€ chat4.json
â””â”€â”€ ğŸ“¦ agent3.zip
    â”œâ”€â”€ chat5.json
    â””â”€â”€ chat6.json
```

### âœ… Structure 2: Flat ZIP
```
ğŸ“¦ all_chats.zip
â”œâ”€â”€ chat1.json (Athira)
â”œâ”€â”€ chat2.json (Timothy)
â”œâ”€â”€ chat3.json (Athira)
â”œâ”€â”€ chat4.json (Ian)
â””â”€â”€ chat5.json (Mavis)
```

### âœ… Structure 3: Mixed (Nested + Flat)
```
ğŸ“¦ mixed.zip
â”œâ”€â”€ ğŸ“¦ athira_chats.zip
â”‚   â””â”€â”€ chat1.json
â”œâ”€â”€ chat2.json (Timothy - loose)
â””â”€â”€ chat3.json (Ian - loose)
```

**All three structures work!** The system intelligently handles nested ZIPs and flat structures.

---

## ğŸ’¡ Pro Tips

### 1. **Organize by Period**
```
ğŸ“ Q4_2024_Reviews/
â”œâ”€â”€ ğŸ“¦ October_Chats.zip
â”œâ”€â”€ ğŸ“¦ November_Chats.zip
â””â”€â”€ ğŸ“¦ December_Chats.zip

â†’ Zip as Q4_2024_Reviews.zip
â†’ Upload and process all months at once
```

### 2. **Filter by Team**
```
ğŸ“ Support_Team_A/
â”œâ”€â”€ ğŸ“¦ Athira.zip
â”œâ”€â”€ ğŸ“¦ Timothy.zip
â””â”€â”€ ğŸ“¦ Ian.zip

ğŸ“ Support_Team_B/
â”œâ”€â”€ ğŸ“¦ Mavis.zip
â”œâ”€â”€ ğŸ“¦ John.zip
â””â”€â”€ ğŸ“¦ Sarah.zip

â†’ Process each team separately
```

### 3. **Name Your ZIPs Clearly**
```
âœ… Good:
- Athira_December_2024.zip
- Support_Team_Q4.zip
- All_Agents_2024.zip

âŒ Avoid:
- export.zip
- data.zip
- file.zip
```

---

## âš™ï¸ Technical Details

### Auto-Detection Logic:
```python
1. Scans all JSON files in ZIP
2. Extracts sender names from messages
3. Filters out "Visitor" and "Bot" names
4. Returns unique agent names
5. Auto-creates agents in system
```

### Processing:
```python
1. Sequential processing (one agent at a time)
2. Progress tracking for each agent
3. Error handling (continues on failure)
4. Results summary with status
```

### File Handling:
```python
- Supports nested ZIPs (your method)
- Supports flat ZIP structures
- Handles mixed structures
- Skips corrupted files
- Continues on errors
```

---

## ğŸ” Troubleshooting

### "No agents detected"
**Cause:** JSON files might not have agent messages
**Solution:** 
- Check that JSON files contain actual chats
- Verify agent names appear in messages
- Try manual entry mode

### "No chats found for agent X"
**Cause:** Agent name mismatch
**Solution:**
- Check exact spelling of agent name
- Names are case-sensitive
- Check for extra spaces

### "Some agents failed"
**Cause:** Various (corrupted files, API limits)
**Solution:**
- Check results summary for specific errors
- Re-run failed agents individually
- Check Gemini API quota

---

## ğŸ“Š Performance

### Processing Speed:
```
1 agent   = ~1-2 minutes
5 agents  = ~5-10 minutes
10 agents = ~10-20 minutes
20 agents = ~20-40 minutes
```

### Recommendations:
- **1-5 agents**: Use bulk mode
- **5-10 agents**: Take a coffee break â˜•
- **10+ agents**: Run overnight or in batches

### API Limits:
```
Gemini 2.5-flash-lite:
- 10 RPM (requests per minute)
- 20 RPD (requests per day)

â†’ Max 20 agents per day (free tier)
```

---

## ğŸ¯ Comparison: Single vs Bulk

### Single Mode (Original):
```
Time for 5 agents:
1. Upload ZIP for Agent 1 â†’ Audit â†’ Download
2. Upload ZIP for Agent 2 â†’ Audit â†’ Download
3. Upload ZIP for Agent 3 â†’ Audit â†’ Download
4. Upload ZIP for Agent 4 â†’ Audit â†’ Download
5. Upload ZIP for Agent 5 â†’ Audit â†’ Download

Total: ~15 minutes + 5 uploads
```

### Bulk Mode (New):
```
Time for 5 agents:
1. Upload ONE ZIP with all agents
2. Click "Run Bulk Audit"
3. Download all reports as ZIP

Total: ~5-10 minutes + 1 upload âœ…
```

**Bulk mode is 2-3x faster!** ğŸš€

---

## ğŸ“ Example Workflow

### Monthly Team Review:
```
Day 1: Export all chats from tawk.to
â†’ One ZIP per agent OR one big ZIP

Day 2: Organize ZIPs
â†’ Put all agent ZIPs in one folder
â†’ Zip the folder

Day 3: Process with auditor
â†’ Enable bulk mode
â†’ Upload master ZIP
â†’ Auto-detect agents
â†’ Run bulk audit
â†’ Download all reports

Day 4-5: Review results
â†’ Open Excel/PDF reports
â†’ Schedule 1-on-1 meetings
â†’ Discuss findings
```

---

## ğŸ‰ Benefits

### âœ… Time Savings
- Upload once vs multiple uploads
- Batch processing vs one-by-one
- Single download vs multiple

### âœ… Less Work
- Auto-detect agents (no manual entry)
- Batch download (all reports in one ZIP)
- Progress tracking (see status in real-time)

### âœ… Better Organization
- All reports timestamped
- Organized in single ZIP
- Easy to archive

### âœ… Error Resilience
- Continues on failure
- Shows which agents failed
- Re-run only failed ones

---

## ğŸš€ Quick Start

**Fastest way to bulk process:**

1. â˜‘ï¸ Enable Bulk Upload Mode
2. ğŸ“¤ Upload your ZIP (nested or flat)
3. ğŸ” Click "Detect Agents in ZIP"
4. ğŸš€ Click "Run Bulk Audit"
5. ğŸ“¥ Download All Reports

**That's it! 5 clicks to process unlimited agents.** ğŸ¯

---

## ğŸ’¬ Need Help?

**Common Questions:**

Q: Can I process 50 agents at once?
A: Yes, but limited by API quota (20/day free tier)

Q: Does it work with my ZIP structure?
A: Yes! Nested, flat, or mixed - all work

Q: Can I cancel mid-processing?
A: No, but you can refresh the page

Q: What if some agents fail?
A: Check results table, re-run failed ones individually

Q: Can I process different time periods?
A: Yes, just organize your ZIPs accordingly

---

**Enjoy your streamlined bulk processing! ğŸ“¦âœ¨**
